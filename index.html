<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚«ã‚¿ã‚«ãƒŠã‚¿ã‚¤ãƒ”ãƒ³ã‚°ç·´ç¿’</title>
    <style>
        body { text-align: center; font-family: 'Segoe UI', sans-serif; padding-top: 50px; background-color: #f9f9f9; }
        .question-box { background: white; padding: 30px; border-radius: 15px; display: inline-block; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .target-char { font-size: 80px; color: #333; margin: 0; }
        input { font-size: 24px; padding: 10px; width: 200px; border: 2px solid #ddd; border-radius: 10px; outline: none; text-align: center; }
        input:focus { border-color: #ff69b4; }
        .result-message { height: 40px; margin-top: 20px; font-size: 24px; font-weight: bold; }
        .correct { color: #ff69b4; } /* ã‚ãŸã‚Š */
        .wrong { color: #ffa500; }   /* ã¯ãšã‚Œ */
        .score-board { margin-top: 20px; font-size: 20px; color: #666; }
    </style>
</head>
<body>

    <div class="question-box">
        <p id="target-ja" class="target-char">æº–å‚™å®Œäº†ï¼Ÿ</p>
        <input type="text" id="type-input" placeholder="ãƒ­ãƒ¼ãƒå­—ã‚’æ‰“ã£ã¦ã­" autocomplete="off">
        
        <div id="result-text" class="result-message"></div>
        <div class="score-board">æ­£è§£æ•°: <span id="score-count">0</span></div>
    </div>

    <script>
        // â˜…ã‚ãªãŸãŒè‡ªåˆ†ã§ä¿®æ­£ã—ãŸãƒ‡ãƒ¼ã‚¿â˜…
        const gameData = {
            foreign: [
                { label: "ãµã", data: [[0,0,"ãµã","fa"],[0,1,"ãµãƒ","fi"],[0,3,"ãµã‡","fe"],[0,4,"ãµã‰","fo"]] },
                { label: "ã¦ãƒ", data: [[1,1,"ã¦ãƒ","thi"]] },
                { label: "ã¡ã‡", data: [[2,3,"ã¡ã‡","che"]] },
                { label: "ã§ãƒ", data: [[3,1,"ã§ãƒ","dhi"],[3,2,"ã§ã‚…","dhu"]] },
                { label: "ã˜ã‡", data: [[5,3,"ã˜ã‡","je"],[6,3,"ã—ã‡","she"]] },
                { label: "ã‚”ã", data: [[8,0,"ã‚”ã","va"],[8,1,"ã‚”ãƒ","vi"],[8,2,"ã‚”","vu"],[8,3,"ã‚”ã‡","ve"],[8,4,"ã‚”ã‰","vo"]] },
                { label: "ã†ãƒ", data: [[9,1,"ã†ãƒ","wi"],[9,3,"ã†ã‡","we"],[9,4,"ã†ã‰","who"]] }
            ]
        };

        let score = 0;
        let currentQuestion = null;

        const inputField = document.getElementById('type-input');
        const targetField = document.getElementById('target-ja');
        const resultField = document.getElementById('result-text');
        const scoreField = document.getElementById('score-count');

        // å•é¡Œã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å‡ºã™é–¢æ•°
        function nextQuestion() {
            const categories = gameData.foreign;
            const randomCat = categories[Math.floor(Math.random() * categories.length)];
            const randomItem = randomCat.data[Math.floor(Math.random() * randomCat.data.length)];
            
            // æ—¥æœ¬èª(index 2)ã¨è‹±èª(index 3)ã‚’å–å¾—
            currentQuestion = { ja: randomItem[2], en: randomItem[3] };
            targetField.innerText = currentQuestion.ja;
            inputField.value = "";
        }

        // å…¥åŠ›ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ©Ÿèƒ½
        inputField.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const userIn = inputField.value.toLowerCase().trim();
                
                if (userIn === currentQuestion.en) {
                    // æ­£è§£ã®ã¨ãã®å‡¦ç†
                    score++;
                    scoreField.innerText = score;
                    resultField.innerText = "Correct! âœ¨";
                    resultField.className = "result-message correct";
                    nextQuestion(); // æ¬¡ã®å•é¡Œã¸
                } else {
                    // é–“é•ã„ã®ã¨ãã®å‡¦ç†
                    resultField.innerText = "Check the chart! ğŸ’¡";
                    resultField.className = "result-message wrong";
                    inputField.value = ""; // å…¥åŠ›ã‚’ã‚„ã‚Šç›´ã—
                }
            }
        });

        // ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸã¨ãã«æœ€åˆã®ä¸€å•ã‚’å‡ºã™
        nextQuestion();
    </script>
</body>
</html>
